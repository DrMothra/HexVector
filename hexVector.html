<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Making your first game, part 3</title>
    <script src="js/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create });

function preload() {

    game.load.image('vector', 'assets/vectorHex.png');
    game.load.image('ground', 'assets/platform.png');
    game.load.image('star', 'assets/star.png');
    game.load.spritesheet('dude', 'assets/dude.png', 32, 48);

}

var line, result;
var musicSquare, musicGroup;

function create() {

    var graphics = game.add.graphics(0, 0);

    // set a fill and line style
    graphics.beginFill(0xFF3300);
    graphics.lineStyle(10, 0xffffff, 1);

    graphics.moveTo(0, 400);
    graphics.lineTo(800,400);
    graphics.endFill();

    musicGroup = game.add.group();

    musicSquare = game.add.graphics(0, 0);
    musicSquare.beginFill(0x000000);
    musicSquare.lineStyle(10, 0x868686, 1);
    musicSquare.drawRect(250, 110, 150, 150);
    musicSquare.endFill();
    musicGroup.add(musicSquare);
    musicGroup.getBounds();


    line = game.add.sprite(32, game.world.height - 150, 'vector');
    line.scale.setTo(0.5, 0.25);

    //  Enable input and allow for dragging
    line.inputEnabled = true;
    line.input.enableDrag();
    line.events.onDragStop.add(onDragStop, this);
}

function onDragStop(sprite, pointer) {

    var bounds = line.getBounds();
    var boundsB = musicGroup.getBounds();

    if(Phaser.Rectangle.intersects(bounds, boundsB)) {
        console.log("Intersects");
    }

}

function checkOverlap(sprite) {
    var bounds = sprite.getBounds();
    var boundsB = musicGroup.getBounds();

    return Phaser.Rectangle.intersects(bounds, boundsB);
}


</script>

</body>
</html>